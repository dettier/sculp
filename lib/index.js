////////////////////////////////////////////////////////////////////////////////
// REQUIRES : BEGIN
////////////////////////////////////////////////////////////////////////////////

import { getInitial, getSubScheme } from './helper';

import ValidationError from './error';
import { TYPE, PRESENCE } from './enums';

import Sculp from './sculp';

////////////////////////////////////////////////////////////////////////////////
// REQUIRES : END
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// validate static
////////////////////////////////////////////////////////////////////////////////

export function validate (value, scheme, path = '', options = {}) {
  const sculp = new Sculp(value, scheme, { disableDependencyTracking : true });
  return sculp.validate(path, options);
}

////////////////////////////////////////////////////////////////////////////////
// validateSync static
////////////////////////////////////////////////////////////////////////////////

export function validateSync (value, scheme, path = '', options = {}) {
  const sculp = new Sculp(value, scheme, { disableDependencyTracking : true });
  return sculp.validateSync(path, options);
}

////////////////////////////////////////////////////////////////////////////////
// getRuleValue static
////////////////////////////////////////////////////////////////////////////////

export function getRuleValue (scheme, value, path, rule) {
  const sculp = new Sculp(value, scheme, { disableDependencyTracking : true });
  return sculp.getRuleValue(path, rule);
}

////////////////////////////////////////////////////////////////////////////////
// getFieldName static
////////////////////////////////////////////////////////////////////////////////

export function getFieldName (scheme, value, path) {
  const sculp = new Sculp(value, scheme, { disableDependencyTracking : true });
  return sculp.getFieldName(path);
}

////////////////////////////////////////////////////////////////////////////////
// getFieldPresence static
////////////////////////////////////////////////////////////////////////////////

export function getFieldPresence (scheme, value, path) {
  const sculp = new Sculp(value, scheme, { disableDependencyTracking : true });
  return sculp.getFieldPresence(path);
}

////////////////////////////////////////////////////////////////////////////////
// getInitial static
////////////////////////////////////////////////////////////////////////////////

export { getInitial, getSubScheme };

////////////////////////////////////////////////////////////////////////////////
// Error and enums
////////////////////////////////////////////////////////////////////////////////

export { ValidationError, TYPE, PRESENCE };

////////////////////////////////////////////////////////////////////////////////
// export
////////////////////////////////////////////////////////////////////////////////

export { Sculp };
