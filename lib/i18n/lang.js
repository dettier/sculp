////////////////////////////////////////////////////////////////////////////////
// REQUIRES : BEGIN
////////////////////////////////////////////////////////////////////////////////

'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});
exports.setLanguage = setLanguage;
exports.getMessage = getMessage;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _options = require('../options');

var _underscoreStringCapitalize = require('underscore.string/capitalize');

var _underscoreStringCapitalize2 = _interopRequireDefault(_underscoreStringCapitalize);

var _lodashCompatStringTemplate = require('lodash-compat/string/template');

var _lodashCompatStringTemplate2 = _interopRequireDefault(_lodashCompatStringTemplate);

////////////////////////////////////////////////////////////////////////////////
// REQUIRES : END
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// getMessages messages for language
////////////////////////////////////////////////////////////////////////////////

function getMessages(lang) {
  if (lang == null) return {};
  return require('./languages/' + lang + '.js');
}

////////////////////////////////////////////////////////////////////////////////
// exports
////////////////////////////////////////////////////////////////////////////////

var lang = undefined;

////////////////////////////////////////////////////////////////////////////////
// setLanguage
////////////////////////////////////////////////////////////////////////////////

function setLanguage() {
  var _lang = arguments.length <= 0 || arguments[0] === undefined ? _options.currentDefaultOptions.lang : arguments[0];

  lang = _lang;
}

////////////////////////////////////////////////////////////////////////////////
// getMessage
////////////////////////////////////////////////////////////////////////////////

function getMessage(key, data) {
  var _capitalize = arguments.length <= 2 || arguments[2] === undefined ? false : arguments[2];

  var tmpl = getMessages(lang)[key] || '';
  var str = (0, _lodashCompatStringTemplate2['default'])(tmpl)(data);
  return _capitalize ? (0, _underscoreStringCapitalize2['default'])(str) : str;
}

////////////////////////////////////////////////////////////////////////////////
// setting default language
////////////////////////////////////////////////////////////////////////////////

setLanguage();