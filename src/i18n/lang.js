////////////////////////////////////////////////////////////////////////////////
// REQUIRES : BEGIN
////////////////////////////////////////////////////////////////////////////////

import { currentDefaultOptions } from '../options';

import capitalize from 'underscore.string/capitalize';
import template from 'lodash-compat/string/template';

////////////////////////////////////////////////////////////////////////////////
// REQUIRES : END
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// exports
////////////////////////////////////////////////////////////////////////////////

let messages;

////////////////////////////////////////////////////////////////////////////////
// setMessages
////////////////////////////////////////////////////////////////////////////////

export function setMessages (_messages = currentDefaultOptions.messages) {
  messages = _messages;
}

////////////////////////////////////////////////////////////////////////////////
// getMessage
////////////////////////////////////////////////////////////////////////////////

export function getMessage (key, data, _capitalize = false) {
  const tmpl = messages[key] || '';
  const str = template(tmpl)(data);
  return _capitalize ? capitalize(str) : str;
}

////////////////////////////////////////////////////////////////////////////////
// setting default language
////////////////////////////////////////////////////////////////////////////////

setMessages();
